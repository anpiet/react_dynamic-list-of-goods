{"version":3,"sources":["GoodsList.tsx","api/goods.ts","App.tsx","index.tsx"],"names":["GoodsList","_ref","goods","_jsx","children","map","good","style","color","concat","name","id","API_URL","getAll","_getAll","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_context","prev","next","fetch","sent","abrupt","json","stop","App","_useState","useState","_useState2","_slicedToArray","isLoading","setIsLoading","_useState3","_useState4","all","setAll","_useState5","_useState6","first5","setFirst5","_useState7","_useState8","red","setRed","_useState9","_useState10","error","setError","_useState11","_useState12","showGoods","setShowGoods","useEffect","loadGoods","p1","p2","p3","then","sort","a","b","localeCompare","filter","_","index","Promise","_ref2","_ref3","usersAll","first5users","getRedUsers","catch","e","message","finally","_jsxs","className","type","onClick","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1f54ed7e.chunk.js","sourcesContent":["import React from 'react';\nimport { Good } from './types/Good';\n\ntype Props = {\n  goods: Good[] | null\n};\n\nexport const GoodsList: React.FC<Props> = ({ goods }) => (\n  <ul>\n    {goods?.map(good => (\n      <li\n        key={good.id}\n        data-cy=\"good\"\n        style={{ color: `${good.color}` }}\n      >\n        {good.name}\n      </li>\n    ))}\n  </ul>\n);\n","import { Good } from '../types/Good';\n\n// eslint-disable-next-line\nconst API_URL = `https://mate-academy.github.io/react_dynamic-list-of-goods/goods.json`;\n\nexport async function getAll(): Promise<Good[]> {\n  const response = await fetch(API_URL);\n\n  return response.json();\n}\n\nexport const get5First = () => {\n  return getAll()\n    .then(goods => goods\n      .sort((a, b) => a.name.localeCompare(b.name))\n      .filter((_, index) => index >= 0 && index < 5)); // sort and get the first 5\n};\n\nexport const getRed = () => {\n  return getAll()\n    .then(goods => goods.filter(good => good.color === 'red')); // get only red\n};\n","import React, { useEffect, useState } from 'react';\nimport './App.scss';\nimport { GoodsList } from './GoodsList';\nimport { Good } from './types/Good';\n\nimport { getAll, get5First, getRed } from './api/goods';\n// or\n// import * as goodsAPI from './api/goods';\n\nexport const App: React.FC = () => {\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const [all, setAll] = useState<Good[] | null>([]);\n  const [first5, setFirst5] = useState<Good[] | null>([]);\n  const [red, setRed] = useState<Good[] | null>([]);\n  const [error, setError] = useState<null | string>(null);\n\n  const [showGoods, setShowGoods] = useState(all);\n\n  useEffect(() => {\n    const loadGoods = async () => {\n      setIsLoading(true);\n      setError(null);\n      setAll(null);\n      setFirst5(null);\n      setRed(null);\n\n      const p1 = getAll();\n      const p2 = get5First();\n      const p3 = getRed();\n\n      Promise.all([p1, p2, p3])\n        .then(([usersAll, first5users, getRedUsers]) => {\n          setAll(usersAll);\n          setFirst5(first5users);\n          setRed(getRedUsers);\n        })\n        .catch(e => {\n          setError(e.message);\n        })\n        .finally(() => setIsLoading(false));\n    };\n\n    loadGoods();\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <h1>Dynamic list of Goods</h1>\n\n      <button\n        type=\"button\"\n        data-cy=\"all-button\"\n        onClick={() => setShowGoods(all)}\n      >\n        Load all goods\n      </button>\n\n      <button\n        type=\"button\"\n        data-cy=\"first-five-button\"\n        onClick={() => setShowGoods(first5)}\n      >\n        Load 5 first goods\n      </button>\n\n      <button\n        type=\"button\"\n        data-cy=\"red-button\"\n        onClick={() => setShowGoods(red)}\n      >\n\n        Load red goods\n      </button>\n      {isLoading && <p>Loading</p>}\n      {error && <p>{error}</p>}\n      <GoodsList goods={showGoods} />\n    </div>\n  );\n};\n","import ReactDOM from 'react-dom';\nimport { App } from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}